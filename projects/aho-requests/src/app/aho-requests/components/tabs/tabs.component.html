<div class="tabs-component">
  <div class="tabs-container">
    <div class="tab" (click)="selectTab(applicationModes.SEARCH_REQUESTS_MODE)" [ngClass]="{'selected': (mode$ | async) === applicationModes.SEARCH_REQUESTS_MODE}">
      <mat-icon>search</mat-icon>
      <span class="tab-label">
        Найденные
      </span>
      <span class="indicator"
            matTooltip="Найдено заявок: 0"
            matTooltipPosition="above">{{0}}
      </span>
    </div>
    <div class="tab"
         [ngClass]="{'selected': (mode$ | async) === applicationModes.ALL_REQUESTS_MODE}"
         (click)="selectTab(applicationModes.ALL_REQUESTS_MODE)" >
      <mat-icon>list</mat-icon>
      <span class="tab-label">
        Все заявки
      </span>
      <span class="indicator"
            *ngIf="(newRequestsCount$ | async) > 0"
            matTooltip="Новых заявок: {{(newRequestsCount$ | async)}}"
            matTooltipPosition="above">{{(newRequestsCount$ | async)}}
      </span>
    </div>
    <div class="tab" (click)="selectTab(applicationModes.OWN_REQUESTS_MODE)" [ngClass]="{'selected': (mode$ | async) === applicationModes.OWN_REQUESTS_MODE}">
      <mat-icon>person</mat-icon>
      <span class="tab-label">
        Ваши заявки
      </span>
      <span class="indicator"
            *ngIf="(ownUncompletedRequestsCount$ | async) > 0"
            matTooltip="Ваших заявок в работе: {{(ownUncompletedRequestsCount$ | async)}}"
            matTooltipPosition="above">{{(ownUncompletedRequestsCount$ | async)}}
      </span>
    </div>
    <div class="tab" (click)="selectTab(applicationModes.EMPLOYEE_REQUESTS_MODE)" [ngClass]="{'selected': (mode$ | async) === applicationModes.EMPLOYEE_REQUESTS_MODE}">
      <mat-icon>play_circle_outline</mat-icon>
      <span class="tab-label">
        Вы исполнитель
      </span>
      <span class="indicator"
            *ngIf="(employeeUncompletedRequestsCount$ | async) > 0"
            matTooltip="Заявки в работе: {{(employeeUncompletedRequestsCount$ | async)}}"
            matTooltipPosition="above">{{(employeeUncompletedRequestsCount$ | async)}}
      </span>
    </div>
    <div class="tab" (click)="selectTab(applicationModes.EXPIRED_REQUESTS_MODE)" [ngClass]="{'selected': (mode$ | async) === applicationModes.EXPIRED_REQUESTS_MODE}">
      <mat-icon>calendar_today</mat-icon>
      <span class="tab-label">
        Просроченные
      </span>
      <span class="indicator"
            *ngIf="(expiredRequestsCount$ | async) > 0"
            matTooltip="Просроченных заявок в работе: {{(expiredRequestsCount$ | async)}}"
            matTooltipPosition="above">{{(expiredRequestsCount$ | async)}}
      </span>
    </div>
  </div>
  <div class="controls-container">
    <button mat-icon-button [matMenuTriggerFor]="requestListMenu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #requestListMenu="matMenu" [yPosition]="'below'" class="user-menu">
      <button mat-menu-item>
        <mat-icon color="primary">insert_drive_file</mat-icon>
        Экспорт в Excel
      </button>
    </mat-menu>
  </div>
</div>
